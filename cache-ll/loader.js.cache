{"cache":{"/Users/piggyslasher/Sites/lavaboom-web/src/js/helpers/promise-polyfill.js":{"source":"/* jshint ignore:start */\n'use strict';\n\nmodule.exports = (function (func, obj) {\n\t// Type checking utility function\n\tfunction is(type, item) {\n\t\treturn (typeof item)[0] == type;\n\t}\n\n\t// Creates a promise, calling callback(resolve, reject), ignoring other parameters.\n\tfunction Promise(callback, handler) {\n\t\t// The `handler` variable points to the function that will\n\t\t// 1) handle a .then(resolved, rejected) call\n\t\t// 2) handle a resolve or reject call (if the first argument === `is`)\n\t\t// Before 2), `handler` holds a queue of callbacks.\n\t\t// After 2), `handler` is a finalized .then handler.\n\t\thandler = function pendingHandler(resolved, rejected, value, queue, then, i) {\n\t\t\tqueue = pendingHandler.q;\n\n\t\t\tfunction valueHandler(resolved) {\n\t\t\t\treturn function (value) {\n\t\t\t\t\tthen && (then = 0, pendingHandler(is, resolved, value));\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Case 1) handle a .then(resolved, rejected) call\n\t\t\tif (resolved != is) {\n\t\t\t\treturn Promise(function (resolve, reject) {\n\t\t\t\t\tqueue.push({ p: this, r: resolve, j: reject, 1: resolved, 0: rejected });\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Case 2) handle a resolve or reject call\n\t\t\t// (`resolved` === `is` acts as a sentinel)\n\t\t\t// The actual function signature is\n\t\t\t// .re[ject|solve](<is>, success, value)\n\n\t\t\t// Check if the value is a promise and try to obtain its `then` method\n\t\t\tif (value && is(func, value) | is(obj, value)) {\n\t\t\t\ttry {\n\t\t\t\t\tthen = value.then;\n\t\t\t\t} catch (reason) {\n\t\t\t\t\trejected = 0;value = reason;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// If the value is a promise, take over its state\n\t\t\tif (is(func, then)) {\n\t\t\t\ttry {\n\t\t\t\t\tthen.call(value, valueHandler(1), rejected = valueHandler(0));\n\t\t\t\t} catch (reason) {\n\t\t\t\t\trejected(reason);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// The value is not a promise; handle resolve/reject\n\t\t\telse {\n\t\t\t\t// Replace this handler with a finalized resolved/rejected handler\n\t\t\t\thandler = function (Resolved, Rejected) {\n\t\t\t\t\t// If the Resolved or Rejected parameter is not a function,\n\t\t\t\t\t// return the original promise (now stored in the `callback` variable)\n\t\t\t\t\tif (!is(func, Resolved = rejected ? Resolved : Rejected)) return callback;\n\t\t\t\t\t// Otherwise, return a finalized promise, transforming the value with the function\n\t\t\t\t\treturn Promise(function (resolve, reject) {\n\t\t\t\t\t\tfinalize(this, resolve, reject, value, Resolved);\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\t// Resolve/reject pending callbacks\n\t\t\t\ti = 0;\n\t\t\t\twhile (i < queue.length) {\n\t\t\t\t\tthen = queue[i++];\n\t\t\t\t\t// If no callback, just resolve/reject the promise\n\t\t\t\t\tif (!is(func, resolved = then[rejected])) (rejected ? then.r : then.j)(value);\n\t\t\t\t\t// Otherwise, resolve/reject the promise with the result of the callback\n\t\t\t\t\telse finalize(then.p, then.r, then.j, value, resolved);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t// The queue of pending callbacks; garbage-collected when handler is resolved/rejected\n\t\thandler.q = [];\n\n\t\t// Create and return the promise (reusing the callback variable)\n\t\tcallback.call(callback = { then: function then(resolved, rejected) {\n\t\t\t\treturn handler(resolved, rejected);\n\t\t\t},\n\t\t\t'catch': function _catch(rejected) {\n\t\t\t\treturn handler(0, rejected);\n\t\t\t} }, function (value) {\n\t\t\thandler(is, 1, value);\n\t\t}, function (reason) {\n\t\t\thandler(is, 0, reason);\n\t\t});\n\t\treturn callback;\n\t}\n\n\t// Finalizes the promise by resolving/rejecting it with the transformed value\n\tfunction finalize(promise, resolve, reject, value, transform) {\n\t\tsetImmediate(function () {\n\t\t\ttry {\n\t\t\t\t// Transform the value through and check whether it's a promise\n\t\t\t\tvalue = transform(value);\n\t\t\t\ttransform = value && is(obj, value) | is(func, value) && value.then;\n\t\t\t\t// Return the result if it's not a promise\n\t\t\t\tif (!is(func, transform)) resolve(value);\n\t\t\t\t// If it's a promise, make sure it's not circular\n\t\t\t\telse if (value == promise) reject(TypeError());\n\t\t\t\t// Take over the promise's state\n\t\t\t\telse transform.call(value, resolve, reject);\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t}\n\t\t});\n\t}\n\n\t// Creates a resolved promise\n\tPromise.resolve = ResolvedPromise;\n\tfunction ResolvedPromise(value) {\n\t\treturn Promise(function (resolve) {\n\t\t\tresolve(value);\n\t\t});\n\t}\n\n\t// Creates a rejected promise\n\tPromise.reject = function (reason) {\n\t\treturn Promise(function (resolve, reject) {\n\t\t\treject(reason);\n\t\t});\n\t};\n\n\t// Transforms an array of promises into a promise for an array\n\tPromise.all = function (promises) {\n\t\treturn Promise(function (resolve, reject, count, values) {\n\t\t\t// Array of collected values\n\t\t\tvalues = [];\n\t\t\t// Resolve immediately if there are no promises\n\t\t\tcount = promises.length || resolve(values);\n\t\t\t// Transform all elements (`map` is shorter than `forEach`)\n\t\t\tpromises.map(function (promise, index) {\n\t\t\t\tResolvedPromise(promise).then(\n\t\t\t\t// Store the value and resolve if it was the last\n\t\t\t\tfunction (value) {\n\t\t\t\t\tvalues[index] = value;\n\t\t\t\t\t--count || resolve(values);\n\t\t\t\t},\n\t\t\t\t// Reject if one element fails\n\t\t\t\treject);\n\t\t\t});\n\t\t});\n\t};\n\n\treturn Promise;\n})('f', 'o');\n/* jshint ignore:end */\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9oZWxwZXJzL3Byb21pc2UtcG9seWZpbGwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsTUFBTSxDQUFDLE9BQU8sR0FBRyxDQUFDLFVBQVUsSUFBSSxFQUFFLEdBQUcsRUFBRTs7QUFFdEMsVUFBUyxFQUFFLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRTtBQUFFLFNBQU8sQ0FBQyxPQUFPLElBQUksQ0FBQSxDQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQztFQUFFOzs7QUFHNUQsVUFBUyxPQUFPLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRTs7Ozs7O0FBTW5DLFNBQU8sR0FBRyxTQUFTLGNBQWMsQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRTtBQUM1RSxRQUFLLEdBQUcsY0FBYyxDQUFDLENBQUMsQ0FBQzs7QUFFekIsWUFBUyxZQUFZLENBQUMsUUFBUSxFQUFFO0FBQy9CLFdBQU8sVUFBVSxLQUFLLEVBQUU7QUFBRSxTQUFJLEtBQUssSUFBSSxHQUFHLENBQUMsRUFBRSxjQUFjLENBQUMsRUFBRSxFQUFFLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQSxBQUFDLENBQUM7S0FBRSxDQUFDO0lBQ3JGOzs7QUFHRCxPQUFJLFFBQVEsSUFBSSxFQUFFLEVBQUU7QUFDbkIsV0FBTyxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTSxFQUFFO0FBQ3pDLFVBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO0tBQ3pFLENBQUMsQ0FBQztJQUNIOzs7Ozs7OztBQVFELE9BQUksS0FBSyxJQUFLLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQUFBQyxFQUFFO0FBQ2hELFFBQUk7QUFBRSxTQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztLQUFFLENBQzFCLE9BQU8sTUFBTSxFQUFFO0FBQUUsYUFBUSxHQUFHLENBQUMsQ0FBQyxBQUFDLEtBQUssR0FBRyxNQUFNLENBQUM7S0FBRTtJQUNoRDs7QUFFRCxPQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUU7QUFDbkIsUUFBSTtBQUFFLFNBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsRUFBRSxRQUFRLEdBQUcsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FBRSxDQUN0RSxPQUFPLE1BQU0sRUFBRTtBQUFFLGFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUFFO0lBQ3BDOztRQUVJOztBQUVKLFdBQU8sR0FBRyxVQUFVLFFBQVEsRUFBRSxRQUFRLEVBQUU7OztBQUd2QyxTQUFJLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRyxRQUFRLEdBQUcsUUFBUSxHQUFHLFFBQVEsR0FBRyxRQUFRLENBQUUsRUFDekQsT0FBTyxRQUFRLENBQUM7O0FBRWpCLFlBQU8sT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU0sRUFBRTtBQUFFLGNBQVEsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7TUFBRSxDQUFDLENBQUM7S0FDakcsQ0FBQzs7QUFFRixLQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ04sV0FBTyxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRTtBQUN4QixTQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7O0FBRWxCLFNBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFDdkMsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFBLENBQUUsS0FBSyxDQUFDLENBQUM7O1VBR3BDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7S0FDbkQ7SUFDRDtHQUNELENBQUM7O0FBRUYsU0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7OztBQUdmLFVBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsSUFBSSxFQUFLLGNBQVUsUUFBUSxFQUFFLFFBQVEsRUFBRTtBQUFFLFdBQU8sT0FBTyxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUFFO0FBQ3ZHLFVBQU8sRUFBRSxnQkFBVSxRQUFRLEVBQVk7QUFBRSxXQUFPLE9BQU8sQ0FBQyxDQUFDLEVBQVMsUUFBUSxDQUFDLENBQUM7SUFBRSxFQUFFLEVBQ2pGLFVBQVUsS0FBSyxFQUFHO0FBQUUsVUFBTyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUcsS0FBSyxDQUFDLENBQUM7R0FBRSxFQUM3QyxVQUFVLE1BQU0sRUFBRTtBQUFFLFVBQU8sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0dBQUUsQ0FBQyxDQUFDO0FBQ2hELFNBQU8sUUFBUSxDQUFDO0VBQ2hCOzs7QUFHRCxVQUFTLFFBQVEsQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFO0FBQzdELGNBQVksQ0FBQyxZQUFZO0FBQ3hCLE9BQUk7O0FBRUgsU0FBSyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN6QixhQUFTLEdBQUcsS0FBSyxJQUFLLEVBQUUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQUFBQyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUM7O0FBRXRFLFFBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxFQUN2QixPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7O1NBRVgsSUFBSSxLQUFLLElBQUksT0FBTyxFQUN4QixNQUFNLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQzs7U0FHcEIsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3hDLENBQ0QsT0FBTyxLQUFLLEVBQUU7QUFBRSxVQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7SUFBRTtHQUNoQyxDQUFDLENBQUM7RUFDSDs7O0FBR0QsUUFBTyxDQUFDLE9BQU8sR0FBRyxlQUFlLENBQUM7QUFDbEMsVUFBUyxlQUFlLENBQUMsS0FBSyxFQUFFO0FBQUUsU0FBTyxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUU7QUFBRSxVQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7R0FBRSxDQUFDLENBQUM7RUFBRTs7O0FBRzNGLFFBQU8sQ0FBQyxNQUFNLEdBQUcsVUFBVSxNQUFNLEVBQUU7QUFBRSxTQUFPLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNLEVBQUU7QUFBRSxTQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7R0FBRSxDQUFDLENBQUM7RUFBRSxDQUFDOzs7QUFHdkcsUUFBTyxDQUFDLEdBQUcsR0FBRyxVQUFVLFFBQVEsRUFBRTtBQUNqQyxTQUFPLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRTs7QUFFeEQsU0FBTSxHQUFHLEVBQUUsQ0FBQzs7QUFFWixRQUFLLEdBQUcsUUFBUSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7O0FBRTNDLFdBQVEsQ0FBQyxHQUFHLENBQUMsVUFBVSxPQUFPLEVBQUUsS0FBSyxFQUFFO0FBQ3RDLG1CQUFlLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSTs7QUFFNUIsY0FBVSxLQUFLLEVBQUU7QUFDaEIsV0FBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUN0QixPQUFFLEtBQUssSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDM0I7O0FBRUQsVUFBTSxDQUFDLENBQUM7SUFDVCxDQUFDLENBQUM7R0FDSCxDQUFDLENBQUM7RUFDSCxDQUFDOztBQUVGLFFBQU8sT0FBTyxDQUFDO0NBQ2YsQ0FBQSxDQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvcGlnZ3lzbGFzaGVyL1NpdGVzL2xhdmFib29tLXdlYi9zcmMvanMvaGVscGVycy9wcm9taXNlLXBvbHlmaWxsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xubW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKGZ1bmMsIG9iaikge1xuXHQvLyBUeXBlIGNoZWNraW5nIHV0aWxpdHkgZnVuY3Rpb25cblx0ZnVuY3Rpb24gaXModHlwZSwgaXRlbSkgeyByZXR1cm4gKHR5cGVvZiBpdGVtKVswXSA9PSB0eXBlOyB9XG5cblx0Ly8gQ3JlYXRlcyBhIHByb21pc2UsIGNhbGxpbmcgY2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0KSwgaWdub3Jpbmcgb3RoZXIgcGFyYW1ldGVycy5cblx0ZnVuY3Rpb24gUHJvbWlzZShjYWxsYmFjaywgaGFuZGxlcikge1xuXHRcdC8vIFRoZSBgaGFuZGxlcmAgdmFyaWFibGUgcG9pbnRzIHRvIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGxcblx0XHQvLyAxKSBoYW5kbGUgYSAudGhlbihyZXNvbHZlZCwgcmVqZWN0ZWQpIGNhbGxcblx0XHQvLyAyKSBoYW5kbGUgYSByZXNvbHZlIG9yIHJlamVjdCBjYWxsIChpZiB0aGUgZmlyc3QgYXJndW1lbnQgPT09IGBpc2ApXG5cdFx0Ly8gQmVmb3JlIDIpLCBgaGFuZGxlcmAgaG9sZHMgYSBxdWV1ZSBvZiBjYWxsYmFja3MuXG5cdFx0Ly8gQWZ0ZXIgMiksIGBoYW5kbGVyYCBpcyBhIGZpbmFsaXplZCAudGhlbiBoYW5kbGVyLlxuXHRcdGhhbmRsZXIgPSBmdW5jdGlvbiBwZW5kaW5nSGFuZGxlcihyZXNvbHZlZCwgcmVqZWN0ZWQsIHZhbHVlLCBxdWV1ZSwgdGhlbiwgaSkge1xuXHRcdFx0cXVldWUgPSBwZW5kaW5nSGFuZGxlci5xO1xuXG5cdFx0XHRmdW5jdGlvbiB2YWx1ZUhhbmRsZXIocmVzb2x2ZWQpIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkgeyB0aGVuICYmICh0aGVuID0gMCwgcGVuZGluZ0hhbmRsZXIoaXMsIHJlc29sdmVkLCB2YWx1ZSkpOyB9O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDYXNlIDEpIGhhbmRsZSBhIC50aGVuKHJlc29sdmVkLCByZWplY3RlZCkgY2FsbFxuXHRcdFx0aWYgKHJlc29sdmVkICE9IGlzKSB7XG5cdFx0XHRcdHJldHVybiBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdFx0XHRxdWV1ZS5wdXNoKHsgcDogdGhpcywgcjogcmVzb2x2ZSwgajogcmVqZWN0LCAxOiByZXNvbHZlZCwgMDogcmVqZWN0ZWQgfSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDYXNlIDIpIGhhbmRsZSBhIHJlc29sdmUgb3IgcmVqZWN0IGNhbGxcblx0XHRcdC8vIChgcmVzb2x2ZWRgID09PSBgaXNgIGFjdHMgYXMgYSBzZW50aW5lbClcblx0XHRcdC8vIFRoZSBhY3R1YWwgZnVuY3Rpb24gc2lnbmF0dXJlIGlzXG5cdFx0XHQvLyAucmVbamVjdHxzb2x2ZV0oPGlzPiwgc3VjY2VzcywgdmFsdWUpXG5cblx0XHRcdC8vIENoZWNrIGlmIHRoZSB2YWx1ZSBpcyBhIHByb21pc2UgYW5kIHRyeSB0byBvYnRhaW4gaXRzIGB0aGVuYCBtZXRob2Rcblx0XHRcdGlmICh2YWx1ZSAmJiAoaXMoZnVuYywgdmFsdWUpIHwgaXMob2JqLCB2YWx1ZSkpKSB7XG5cdFx0XHRcdHRyeSB7IHRoZW4gPSB2YWx1ZS50aGVuOyB9XG5cdFx0XHRcdGNhdGNoIChyZWFzb24pIHsgcmVqZWN0ZWQgPSAwOyB2YWx1ZSA9IHJlYXNvbjsgfVxuXHRcdFx0fVxuXHRcdFx0Ly8gSWYgdGhlIHZhbHVlIGlzIGEgcHJvbWlzZSwgdGFrZSBvdmVyIGl0cyBzdGF0ZVxuXHRcdFx0aWYgKGlzKGZ1bmMsIHRoZW4pKSB7XG5cdFx0XHRcdHRyeSB7IHRoZW4uY2FsbCh2YWx1ZSwgdmFsdWVIYW5kbGVyKDEpLCByZWplY3RlZCA9IHZhbHVlSGFuZGxlcigwKSk7IH1cblx0XHRcdFx0Y2F0Y2ggKHJlYXNvbikgeyByZWplY3RlZChyZWFzb24pOyB9XG5cdFx0XHR9XG5cdFx0XHQvLyBUaGUgdmFsdWUgaXMgbm90IGEgcHJvbWlzZTsgaGFuZGxlIHJlc29sdmUvcmVqZWN0XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Ly8gUmVwbGFjZSB0aGlzIGhhbmRsZXIgd2l0aCBhIGZpbmFsaXplZCByZXNvbHZlZC9yZWplY3RlZCBoYW5kbGVyXG5cdFx0XHRcdGhhbmRsZXIgPSBmdW5jdGlvbiAoUmVzb2x2ZWQsIFJlamVjdGVkKSB7XG5cdFx0XHRcdFx0Ly8gSWYgdGhlIFJlc29sdmVkIG9yIFJlamVjdGVkIHBhcmFtZXRlciBpcyBub3QgYSBmdW5jdGlvbixcblx0XHRcdFx0XHQvLyByZXR1cm4gdGhlIG9yaWdpbmFsIHByb21pc2UgKG5vdyBzdG9yZWQgaW4gdGhlIGBjYWxsYmFja2AgdmFyaWFibGUpXG5cdFx0XHRcdFx0aWYgKCFpcyhmdW5jLCAoUmVzb2x2ZWQgPSByZWplY3RlZCA/IFJlc29sdmVkIDogUmVqZWN0ZWQpKSlcblx0XHRcdFx0XHRcdHJldHVybiBjYWxsYmFjaztcblx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIHJldHVybiBhIGZpbmFsaXplZCBwcm9taXNlLCB0cmFuc2Zvcm1pbmcgdGhlIHZhbHVlIHdpdGggdGhlIGZ1bmN0aW9uXG5cdFx0XHRcdFx0cmV0dXJuIFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyBmaW5hbGl6ZSh0aGlzLCByZXNvbHZlLCByZWplY3QsIHZhbHVlLCBSZXNvbHZlZCk7IH0pO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHQvLyBSZXNvbHZlL3JlamVjdCBwZW5kaW5nIGNhbGxiYWNrc1xuXHRcdFx0XHRpID0gMDtcblx0XHRcdFx0d2hpbGUgKGkgPCBxdWV1ZS5sZW5ndGgpIHtcblx0XHRcdFx0XHR0aGVuID0gcXVldWVbaSsrXTtcblx0XHRcdFx0XHQvLyBJZiBubyBjYWxsYmFjaywganVzdCByZXNvbHZlL3JlamVjdCB0aGUgcHJvbWlzZVxuXHRcdFx0XHRcdGlmICghaXMoZnVuYywgcmVzb2x2ZWQgPSB0aGVuW3JlamVjdGVkXSkpXG5cdFx0XHRcdFx0XHQocmVqZWN0ZWQgPyB0aGVuLnIgOiB0aGVuLmopKHZhbHVlKTtcblx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIHJlc29sdmUvcmVqZWN0IHRoZSBwcm9taXNlIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgY2FsbGJhY2tcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRmaW5hbGl6ZSh0aGVuLnAsIHRoZW4uciwgdGhlbi5qLCB2YWx1ZSwgcmVzb2x2ZWQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0XHQvLyBUaGUgcXVldWUgb2YgcGVuZGluZyBjYWxsYmFja3M7IGdhcmJhZ2UtY29sbGVjdGVkIHdoZW4gaGFuZGxlciBpcyByZXNvbHZlZC9yZWplY3RlZFxuXHRcdGhhbmRsZXIucSA9IFtdO1xuXG5cdFx0Ly8gQ3JlYXRlIGFuZCByZXR1cm4gdGhlIHByb21pc2UgKHJldXNpbmcgdGhlIGNhbGxiYWNrIHZhcmlhYmxlKVxuXHRcdGNhbGxiYWNrLmNhbGwoY2FsbGJhY2sgPSB7IHRoZW46ICAgIGZ1bmN0aW9uIChyZXNvbHZlZCwgcmVqZWN0ZWQpIHsgcmV0dXJuIGhhbmRsZXIocmVzb2x2ZWQsIHJlamVjdGVkKTsgfSxcblx0XHRcdFx0XCJjYXRjaFwiOiBmdW5jdGlvbiAocmVqZWN0ZWQpICAgICAgICAgICB7IHJldHVybiBoYW5kbGVyKDAsICAgICAgICByZWplY3RlZCk7IH0gfSxcblx0XHRcdGZ1bmN0aW9uICh2YWx1ZSkgIHsgaGFuZGxlcihpcywgMSwgIHZhbHVlKTsgfSxcblx0XHRcdGZ1bmN0aW9uIChyZWFzb24pIHsgaGFuZGxlcihpcywgMCwgcmVhc29uKTsgfSk7XG5cdFx0cmV0dXJuIGNhbGxiYWNrO1xuXHR9XG5cblx0Ly8gRmluYWxpemVzIHRoZSBwcm9taXNlIGJ5IHJlc29sdmluZy9yZWplY3RpbmcgaXQgd2l0aCB0aGUgdHJhbnNmb3JtZWQgdmFsdWVcblx0ZnVuY3Rpb24gZmluYWxpemUocHJvbWlzZSwgcmVzb2x2ZSwgcmVqZWN0LCB2YWx1ZSwgdHJhbnNmb3JtKSB7XG5cdFx0c2V0SW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdC8vIFRyYW5zZm9ybSB0aGUgdmFsdWUgdGhyb3VnaCBhbmQgY2hlY2sgd2hldGhlciBpdCdzIGEgcHJvbWlzZVxuXHRcdFx0XHR2YWx1ZSA9IHRyYW5zZm9ybSh2YWx1ZSk7XG5cdFx0XHRcdHRyYW5zZm9ybSA9IHZhbHVlICYmIChpcyhvYmosIHZhbHVlKSB8IGlzKGZ1bmMsIHZhbHVlKSkgJiYgdmFsdWUudGhlbjtcblx0XHRcdFx0Ly8gUmV0dXJuIHRoZSByZXN1bHQgaWYgaXQncyBub3QgYSBwcm9taXNlXG5cdFx0XHRcdGlmICghaXMoZnVuYywgdHJhbnNmb3JtKSlcblx0XHRcdFx0XHRyZXNvbHZlKHZhbHVlKTtcblx0XHRcdFx0Ly8gSWYgaXQncyBhIHByb21pc2UsIG1ha2Ugc3VyZSBpdCdzIG5vdCBjaXJjdWxhclxuXHRcdFx0XHRlbHNlIGlmICh2YWx1ZSA9PSBwcm9taXNlKVxuXHRcdFx0XHRcdHJlamVjdChUeXBlRXJyb3IoKSk7XG5cdFx0XHRcdC8vIFRha2Ugb3ZlciB0aGUgcHJvbWlzZSdzIHN0YXRlXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR0cmFuc2Zvcm0uY2FsbCh2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcblx0XHRcdH1cblx0XHRcdGNhdGNoIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyB9XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBDcmVhdGVzIGEgcmVzb2x2ZWQgcHJvbWlzZVxuXHRQcm9taXNlLnJlc29sdmUgPSBSZXNvbHZlZFByb21pc2U7XG5cdGZ1bmN0aW9uIFJlc29sdmVkUHJvbWlzZSh2YWx1ZSkgeyByZXR1cm4gUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cblxuXHQvLyBDcmVhdGVzIGEgcmVqZWN0ZWQgcHJvbWlzZVxuXHRQcm9taXNlLnJlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHsgcmV0dXJuIFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyByZWplY3QocmVhc29uKTsgfSk7IH07XG5cblx0Ly8gVHJhbnNmb3JtcyBhbiBhcnJheSBvZiBwcm9taXNlcyBpbnRvIGEgcHJvbWlzZSBmb3IgYW4gYXJyYXlcblx0UHJvbWlzZS5hbGwgPSBmdW5jdGlvbiAocHJvbWlzZXMpIHtcblx0XHRyZXR1cm4gUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0LCBjb3VudCwgdmFsdWVzKSB7XG5cdFx0XHQvLyBBcnJheSBvZiBjb2xsZWN0ZWQgdmFsdWVzXG5cdFx0XHR2YWx1ZXMgPSBbXTtcblx0XHRcdC8vIFJlc29sdmUgaW1tZWRpYXRlbHkgaWYgdGhlcmUgYXJlIG5vIHByb21pc2VzXG5cdFx0XHRjb3VudCA9IHByb21pc2VzLmxlbmd0aCB8fCByZXNvbHZlKHZhbHVlcyk7XG5cdFx0XHQvLyBUcmFuc2Zvcm0gYWxsIGVsZW1lbnRzIChgbWFwYCBpcyBzaG9ydGVyIHRoYW4gYGZvckVhY2hgKVxuXHRcdFx0cHJvbWlzZXMubWFwKGZ1bmN0aW9uIChwcm9taXNlLCBpbmRleCkge1xuXHRcdFx0XHRSZXNvbHZlZFByb21pc2UocHJvbWlzZSkudGhlbihcblx0XHRcdFx0XHQvLyBTdG9yZSB0aGUgdmFsdWUgYW5kIHJlc29sdmUgaWYgaXQgd2FzIHRoZSBsYXN0XG5cdFx0XHRcdFx0ZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRcdFx0XHR2YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG5cdFx0XHRcdFx0XHQtLWNvdW50IHx8IHJlc29sdmUodmFsdWVzKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdC8vIFJlamVjdCBpZiBvbmUgZWxlbWVudCBmYWlsc1xuXHRcdFx0XHRcdHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fTtcblxuXHRyZXR1cm4gUHJvbWlzZTtcbn0pKCdmJywgJ28nKTtcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovIl19","deps":{}},"/Users/piggyslasher/Sites/lavaboom-web/node_modules/browserify/node_modules/process/browser.js":{"source":"// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","deps":{}},"./src/js/loader.js":{"source":"(function (process){\n'use strict';\n\n(function (assets) {\n\tvar Promise = require('./helpers/promise-polyfill');\n\n\tvar SRC_APP_LAVABOOM_MAIN_VENDOR = '/js/appLavaboom-vendor.js',\n\t    SRC_OPENPGP = '/vendor/openpgp.js',\n\t    SRC_APP_LAVABOOM_LOGIN = '/js/appLavaboomLogin.js',\n\t    SRC_APP_LAVABOOM_MAIN = '/js/appLavaboom.js',\n\t    SRC_UTILS = '/js/utils.js',\n\t    SRC_UTILS_VENDOR = '/js/utils-vendor.js',\n\t    SRC_TEMPLATE_CACHE = '/js/templates.js';\n\n\tvar LB_DONE = 'Done!',\n\t    LB_FAIL = 'Cannot load Lavaboom :( \\n Please check network connection and try again!';\n\n\tvar // containers\n\tloaderContainer = document.getElementById('loader-container'),\n\t    checkerAppContainer = document.getElementById('checker-app-container'),\n\t    loginAppContainer = document.getElementById('login-app-container'),\n\t    mainAppContainer = document.getElementById('main-app-container'),\n\t    containers = [loaderContainer, loginAppContainer, mainAppContainer];\n\n\tvar CHECKER = {\n\t\tappName: 'utils',\n\t\tcontainer: checkerAppContainer,\n\t\tafterProgressText: 'Checking...',\n\t\tafterProgressValue: 30,\n\t\tisHidden: true,\n\t\tscripts: [{\n\t\t\tsrc: SRC_UTILS_VENDOR,\n\t\t\tprogressText: 'Loading Lavaboom utils(1)...'\n\t\t}, {\n\t\t\tsrc: SRC_UTILS,\n\t\t\tprogressText: 'Loading Lavaboom utils(2)...'\n\t\t}]\n\t},\n\t    LOADER = {\n\t\tcontainer: loaderContainer\n\t},\n\t    APP_LAVABOOM_LOGIN = {\n\t\tappName: 'AppLavaboomLogin',\n\t\tcontainer: loginAppContainer,\n\t\tafterProgressText: 'Please wait...',\n\t\tafterProgressValue: 90,\n\t\tscripts: [{\n\t\t\tsrc: SRC_OPENPGP,\n\t\t\tprogressText: 'Loading openpgp.js...'\n\t\t}, process.env.IS_PRODUCTION ? {\n\t\t\tsrc: SRC_TEMPLATE_CACHE,\n\t\t\tprogressText: 'Loading templates...'\n\t\t} : null, {\n\t\t\tsrc: SRC_APP_LAVABOOM_LOGIN,\n\t\t\tprogressText: 'Loading Lavaboom...'\n\t\t}]\n\t},\n\t    APP_LAVABOOM_MAIN = {\n\t\tappName: 'AppLavaboom',\n\t\tcontainer: mainAppContainer,\n\t\tafterProgressText: 'Please wait...',\n\t\tafterProgressValue: 50,\n\t\tscripts: [{\n\t\t\tsrc: SRC_APP_LAVABOOM_MAIN_VENDOR,\n\t\t\tprogressText: 'Loading system libraries...'\n\t\t}, {\n\t\t\tsrc: SRC_OPENPGP,\n\t\t\tprogressText: 'Loading openpgp.js...'\n\t\t}, process.env.IS_PRODUCTION ? {\n\t\t\tsrc: SRC_TEMPLATE_CACHE,\n\t\t\tprogressText: 'Loading templates...'\n\t\t} : null, {\n\t\t\tsrc: SRC_APP_LAVABOOM_MAIN,\n\t\t\tprogressText: 'Loading Lavaboom...'\n\t\t}]\n\t};\n\n\tvar DEBUG_DELAY = 0,\n\t    APP_TRANSITION_DELAY = 500;\n\n\tvar loadedScripts = {};\n\n\tvar loadJS = function loadJS(src) {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tif (loadedScripts[src]) return resolve();\n\n\t\t\tvar ref = window.document.getElementsByTagName('script')[0];\n\t\t\tvar script = window.document.createElement('script');\n\t\t\tscript.src = src;\n\t\t\tscript.async = true;\n\t\t\tscript.onload = function (e) {\n\t\t\t\tconsole.log('loader loaded \\'' + src + '\\'', e);\n\t\t\t\tloadedScripts[src] = true;\n\n\t\t\t\tif (DEBUG_DELAY) setTimeout(function () {\n\t\t\t\t\tresolve(e);\n\t\t\t\t}, DEBUG_DELAY);else resolve(e);\n\t\t\t};\n\t\t\tscript.onerror = function (e) {\n\t\t\t\tconsole.log('loader: error during loading \\'' + src + '\\'', e);\n\t\t\t\treject();\n\t\t\t};\n\n\t\t\tref.parentNode.insertBefore(script, ref);\n\t\t});\n\t};\n\n\tfunction Loader() {\n\t\tconsole.log('Initialize loader...');\n\n\t\tvar self = this;\n\n\t\tvar\n\t\t// loader elements\n\t\tloaderProgressText = document.getElementById('loader-progress-text'),\n\t\t    loaderProgressBar = document.getElementById('loader-progress-bar');\n\n\t\tvar\n\t\t// state\n\t\tisError = false,\n\t\t    isLoginAppLoaded = false,\n\t\t    isMainAppLoaded = false,\n\t\t    isMainApp = false,\n\t\t    currentProgress = 0,\n\t\t    progress = 0;\n\n\t\tvar showContainer = function showContainer(e, lbDone) {\n\t\t\tvar isImmediate = arguments[2] === undefined ? false : arguments[2];\n\t\t\treturn new Promise(function (resolve) {\n\t\t\t\tif (e.container != LOADER.container) self.setProgress(lbDone ? lbDone : LB_DONE, 100);\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\t\tvar _didIteratorError = false;\n\t\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor (var _iterator = containers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\t\tvar c = _step.value;\n\n\t\t\t\t\t\t\tc.className = 'hidden';\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t\t_iteratorError = err;\n\t\t\t\t\t} finally {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator['return']) {\n\t\t\t\t\t\t\t\t_iterator['return']();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\te.container.className = '';\n\n\t\t\t\t\tif (e.rootScope && e.rootScope.shownApplication) {\n\t\t\t\t\t\te.rootScope.$apply(function () {\n\t\t\t\t\t\t\te.rootScope.shownApplication();\n\t\t\t\t\t\t});\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t} else resolve();\n\t\t\t\t}, isImmediate ? 0 : APP_TRANSITION_DELAY);\n\t\t\t});\n\t\t};\n\n\t\tvar loadScripts = function loadScripts(opts) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar total = opts.scripts.length;\n\n\t\t\t\tvar load = function load() {\n\t\t\t\t\tvar loaded = arguments[0] === undefined ? 0 : arguments[0];\n\n\t\t\t\t\tvar script = null;\n\t\t\t\t\tdo {\n\t\t\t\t\t\tscript = opts.scripts.splice(0, 1)[0];\n\t\t\t\t\t} while (!script);\n\n\t\t\t\t\tself.setProgress(script.progressText, Math.ceil(progress + (opts.afterProgressValue - progress) * loaded / total));\n\n\t\t\t\t\tloadJS(process.env.IS_PRODUCTION && assets[script.src] ? assets[script.src] : script.src).then(function () {\n\t\t\t\t\t\tif (opts.scripts.length > 0) load(loaded + 1);else {\n\t\t\t\t\t\t\tprogress = opts.afterProgressValue;\n\t\t\t\t\t\t\tself.setProgress(opts.afterProgressText, opts.afterProgressValue);\n\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t})['catch'](function (e) {\n\t\t\t\t\t\treject(e);\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tload();\n\t\t\t});\n\t\t};\n\n\t\tvar initializeApplication = function initializeApplication(app, opts) {\n\t\t\tconsole.log('loader: initializing application', app.appName, opts);\n\n\t\t\tisMainApp = app.container == APP_LAVABOOM_MAIN.container;\n\n\t\t\tif (!opts) opts = {};\n\n\t\t\tvar rootScope = app.rootScope = angular.element(app.container).scope();\n\t\t\trootScope.$apply(function () {\n\t\t\t\tconsole.log('loader: calling rootScope.initializeApplication()');\n\t\t\t\trootScope.initializeApplication(opts).then(function (r) {\n\t\t\t\t\tconsole.log('loader: initialized application', app.appName, 'with result', r);\n\n\t\t\t\t\tif (!app.isHidden) showContainer(app, opts.lbDone ? opts.lbDone : r && r.lbDone ? r.lbDone : null, opts.noDelay ? true : false).then(function () {\n\t\t\t\t\t\tif (rootScope.onApplicationReady) rootScope.$apply(function () {\n\t\t\t\t\t\t\trootScope.onApplicationReady();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t})['catch'](function (err) {\n\t\t\t\t\tself.setProgressText(err.message);\n\t\t\t\t\tisError = true;\n\t\t\t\t\tconsole.error('loader: initialization of application failed', app.appName, 'with error', err.error);\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tvar loadApplication = function loadApplication(app, opts) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tconsole.log('loader: loading application', app.appName, opts);\n\t\t\t\tisMainApp = app.container == APP_LAVABOOM_MAIN.container;\n\n\t\t\t\tloadScripts(app).then(function () {\n\t\t\t\t\tangular.element(app.container).ready(function () {\n\t\t\t\t\t\tangular.bootstrap(app.container, [app.appName]);\n\n\t\t\t\t\t\tinitializeApplication(app, opts);\n\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t});\n\t\t\t\t})['catch'](function (e) {\n\t\t\t\t\tself.setProgressText(LB_FAIL);\n\t\t\t\t\treject(e);\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tthis.setProgressText = function (text) {\n\t\t\tif (isError) return;\n\t\t\tloaderProgressText.innerHTML = text;\n\t\t};\n\n\t\tthis.setProgress = function (text, percent) {\n\t\t\tif (isError) return;\n\n\t\t\tpercent = Math.ceil(percent);\n\n\t\t\tconsole.log('loader.progress', percent, text);\n\t\t\tloaderProgressText.innerHTML = text;\n\t\t\tloaderProgressBar.setAttribute('aria-valuenow', percent);\n\t\t\tloaderProgressBar.setAttribute('style', 'width: ' + percent + '%;');\n\t\t\tcurrentProgress = percent;\n\t\t};\n\n\t\tthis.incProgress = function (text, percent) {\n\t\t\tself.setProgress(text, currentProgress + percent);\n\t\t};\n\n\t\tthis.getProgress = function () {\n\t\t\treturn currentProgress;\n\t\t};\n\n\t\tthis.resetProgress = function () {\n\t\t\tprogress = 10;\n\n\t\t\tself.setProgress('', progress);\n\t\t};\n\n\t\tthis.initialize = function () {\n\t\t\tprogress = 10;\n\t\t\tloadApplication(CHECKER)['catch'](function (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t\tself.setProgressText(LB_FAIL);\n\t\t\t});\n\t\t};\n\n\t\tthis.loadLoginApplication = function (opts) {\n\t\t\tif (!opts) opts = {};\n\n\t\t\tisError = false;\n\t\t\tif (isLoginAppLoaded) {\n\t\t\t\tinitializeApplication(APP_LAVABOOM_LOGIN, opts);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tloadApplication(APP_LAVABOOM_LOGIN, opts).then(function () {\n\t\t\t\tisLoginAppLoaded = true;\n\t\t\t});\n\t\t};\n\n\t\tthis.loadMainApplication = function (opts) {\n\t\t\tif (!opts) opts = {};\n\n\t\t\tisError = false;\n\t\t\tif (isMainAppLoaded) {\n\t\t\t\tinitializeApplication(APP_LAVABOOM_MAIN, opts);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tloadApplication(APP_LAVABOOM_MAIN, opts).then(function () {\n\t\t\t\tisMainAppLoaded = true;\n\t\t\t});\n\t\t};\n\n\t\tthis.isMainApplication = function () {\n\t\t\treturn isMainApp;\n\t\t};\n\n\t\tthis.showLoader = function () {\n\t\t\tvar isImmediate = arguments[0] === undefined ? false : arguments[0];\n\n\t\t\tshowContainer(LOADER, null, isImmediate);\n\t\t};\n\t}\n\n\twindow.loader = new Loader();\n\twindow.loader.initialize();\n})(window.assets);\n\n}).call(this,require('_process'))\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waWdneXNsYXNoZXIvU2l0ZXMvbGF2YWJvb20td2ViL3NyYy9qcy9sb2FkZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsQ0FBQyxVQUFDLE1BQU0sRUFBSztBQUNaLEtBQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDOztBQUV0RCxLQUNDLDRCQUE0QixHQUFHLDJCQUEyQjtLQUMxRCxXQUFXLEdBQUcsb0JBQW9CO0tBQ2xDLHNCQUFzQixHQUFHLHlCQUF5QjtLQUNsRCxxQkFBcUIsR0FBRyxvQkFBb0I7S0FDNUMsU0FBUyxHQUFHLGNBQWM7S0FDMUIsZ0JBQWdCLEdBQUcscUJBQXFCO0tBQ3hDLGtCQUFrQixHQUFHLGtCQUFrQixDQUFDOztBQUV6QyxLQUNDLE9BQU8sR0FBRyxPQUFPO0tBQ2pCLE9BQU8sR0FBRywyRUFBMkUsQ0FBQzs7QUFFdkY7QUFDQyxnQkFBZSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUM7S0FDN0QsbUJBQW1CLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyx1QkFBdUIsQ0FBQztLQUN0RSxpQkFBaUIsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHFCQUFxQixDQUFDO0tBQ2xFLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLENBQUM7S0FDaEUsVUFBVSxHQUFHLENBQUMsZUFBZSxFQUFFLGlCQUFpQixFQUFFLGdCQUFnQixDQUFDLENBQUM7O0FBRXJFLEtBQ0MsT0FBTyxHQUFHO0FBQ1QsU0FBTyxFQUFFLE9BQU87QUFDaEIsV0FBUyxFQUFFLG1CQUFtQjtBQUM5QixtQkFBaUIsRUFBRSxhQUFhO0FBQ2hDLG9CQUFrQixFQUFFLEVBQUU7QUFDdEIsVUFBUSxFQUFFLElBQUk7QUFDZCxTQUFPLEVBQUUsQ0FDUjtBQUNDLE1BQUcsRUFBRSxnQkFBZ0I7QUFDckIsZUFBWSxFQUFFLDhCQUE4QjtHQUM1QyxFQUNEO0FBQ0MsTUFBRyxFQUFFLFNBQVM7QUFDZCxlQUFZLEVBQUUsOEJBQThCO0dBQzVDLENBQ0Q7RUFDRDtLQUNELE1BQU0sR0FBRztBQUNSLFdBQVMsRUFBRSxlQUFlO0VBQzFCO0tBQ0Qsa0JBQWtCLEdBQUc7QUFDcEIsU0FBTyxFQUFFLGtCQUFrQjtBQUMzQixXQUFTLEVBQUUsaUJBQWlCO0FBQzVCLG1CQUFpQixFQUFFLGdCQUFnQjtBQUNuQyxvQkFBa0IsRUFBRSxFQUFFO0FBQ3RCLFNBQU8sRUFBRSxDQUNSO0FBQ0MsTUFBRyxFQUFFLFdBQVc7QUFDaEIsZUFBWSxFQUFFLHVCQUF1QjtHQUNyQyxFQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxHQUFHO0FBQzNCLE1BQUcsRUFBRSxrQkFBa0I7QUFDdkIsZUFBWSxFQUFFLHNCQUFzQjtHQUNwQyxHQUFHLElBQUksRUFDUjtBQUNDLE1BQUcsRUFBRSxzQkFBc0I7QUFDM0IsZUFBWSxFQUFFLHFCQUFxQjtHQUNuQyxDQUNEO0VBQ0Q7S0FDRCxpQkFBaUIsR0FBRztBQUNuQixTQUFPLEVBQUUsYUFBYTtBQUN0QixXQUFTLEVBQUUsZ0JBQWdCO0FBQzNCLG1CQUFpQixFQUFFLGdCQUFnQjtBQUNuQyxvQkFBa0IsRUFBRSxFQUFFO0FBQ3RCLFNBQU8sRUFBRSxDQUNSO0FBQ0MsTUFBRyxFQUFFLDRCQUE0QjtBQUNqQyxlQUFZLEVBQUUsNkJBQTZCO0dBQzNDLEVBQ0Q7QUFDQyxNQUFHLEVBQUUsV0FBVztBQUNoQixlQUFZLEVBQUUsdUJBQXVCO0dBQ3JDLEVBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEdBQUc7QUFDM0IsTUFBRyxFQUFFLGtCQUFrQjtBQUN2QixlQUFZLEVBQUUsc0JBQXNCO0dBQ3BDLEdBQUcsSUFBSSxFQUNSO0FBQ0MsTUFBRyxFQUFFLHFCQUFxQjtBQUMxQixlQUFZLEVBQUUscUJBQXFCO0dBQ25DLENBQ0Q7RUFDRCxDQUFDOztBQUVILEtBQ0MsV0FBVyxHQUFHLENBQUM7S0FDZixvQkFBb0IsR0FBRyxHQUFHLENBQUM7O0FBRTVCLEtBQU0sYUFBYSxHQUFHLEVBQUUsQ0FBQzs7QUFFekIsS0FBTSxNQUFNLEdBQUcsU0FBVCxNQUFNLENBQUksR0FBRztTQUFLLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU0sRUFBSztBQUN4RCxPQUFJLGFBQWEsQ0FBQyxHQUFHLENBQUMsRUFDckIsT0FBTyxPQUFPLEVBQUUsQ0FBQzs7QUFFbEIsT0FBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsQ0FBRSxDQUFDLENBQUUsQ0FBQztBQUNoRSxPQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUN2RCxTQUFNLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUNqQixTQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztBQUNwQixTQUFNLENBQUMsTUFBTSxHQUFHLFVBQUMsQ0FBQyxFQUFLO0FBQ3RCLFdBQU8sQ0FBQyxHQUFHLHNCQUFtQixHQUFHLFNBQUssQ0FBQyxDQUFDLENBQUM7QUFDekMsaUJBQWEsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7O0FBRTFCLFFBQUksV0FBVyxFQUNkLFVBQVUsQ0FBQyxZQUFNO0FBQ2hCLFlBQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUNYLEVBQUUsV0FBVyxDQUFDLENBQUMsS0FFaEIsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ1osQ0FBQztBQUNGLFNBQU0sQ0FBQyxPQUFPLEdBQUcsVUFBQyxDQUFDLEVBQUs7QUFDdkIsV0FBTyxDQUFDLEdBQUcscUNBQWtDLEdBQUcsU0FBSyxDQUFDLENBQUMsQ0FBQztBQUN4RCxVQUFNLEVBQUUsQ0FBQztJQUNULENBQUM7O0FBRUYsTUFBRyxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0dBQ3pDLENBQUM7RUFBQSxDQUFDOztBQUVILFVBQVMsTUFBTSxHQUFJO0FBQ2xCLFNBQU8sQ0FBQyxHQUFHLENBQUMsc0JBQXNCLENBQUMsQ0FBQzs7QUFFcEMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDOztBQUVsQjs7QUFFQyxvQkFBa0IsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHNCQUFzQixDQUFDO01BQ3BFLGlCQUFpQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMscUJBQXFCLENBQUMsQ0FBQzs7QUFFcEU7O0FBRUMsU0FBTyxHQUFHLEtBQUs7TUFDZixnQkFBZ0IsR0FBRyxLQUFLO01BQ3hCLGVBQWUsR0FBRyxLQUFLO01BQ3ZCLFNBQVMsR0FBRyxLQUFLO01BQ2pCLGVBQWUsR0FBRyxDQUFDO01BQ25CLFFBQVEsR0FBRyxDQUFDLENBQUM7O0FBRWQsTUFBTSxhQUFhLEdBQUcsU0FBaEIsYUFBYSxDQUFJLENBQUMsRUFBRSxNQUFNO09BQUUsV0FBVyxnQ0FBRyxLQUFLO1VBQUssSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUs7QUFDbEYsUUFBSSxDQUFDLENBQUMsU0FBUyxJQUFJLE1BQU0sQ0FBQyxTQUFTLEVBQ2xDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxHQUFHLE1BQU0sR0FBRyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUM7O0FBRWxELGNBQVUsQ0FBQyxZQUFNOzs7Ozs7QUFDaEIsMkJBQWMsVUFBVTtXQUFmLENBQUM7O0FBQ1QsUUFBQyxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7T0FBQTs7Ozs7Ozs7Ozs7Ozs7OztBQUN4QixNQUFDLENBQUMsU0FBUyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7O0FBRTNCLFNBQUksQ0FBQyxDQUFDLFNBQVMsSUFBSSxDQUFDLENBQUMsU0FBUyxDQUFDLGdCQUFnQixFQUFFO0FBQ2hELE9BQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFlBQU07QUFDeEIsUUFBQyxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO09BQy9CLENBQUMsQ0FBQztBQUNILGFBQU8sRUFBRSxDQUFDO01BQ1YsTUFDQSxPQUFPLEVBQUUsQ0FBQztLQUNYLEVBQUUsV0FBVyxHQUFHLENBQUMsR0FBRyxvQkFBb0IsQ0FBQyxDQUFDO0lBRTNDLENBQUM7R0FBQSxDQUFDOztBQUVILE1BQU0sV0FBVyxHQUFHLFNBQWQsV0FBVyxDQUFJLElBQUk7VUFBSyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUs7QUFDOUQsUUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUM7O0FBRWxDLFFBQU0sSUFBSSxHQUFHLFNBQVAsSUFBSSxHQUFtQjtTQUFmLE1BQU0sZ0NBQUcsQ0FBQzs7QUFDdkIsU0FBSSxNQUFNLEdBQUcsSUFBSSxDQUFDO0FBQ2xCLFFBQUc7QUFDRixZQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO01BQ3RDLFFBQVEsQ0FBQyxNQUFNLEVBQUU7O0FBRWxCLFNBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxRQUFRLENBQUEsR0FBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQzs7QUFFbkgsV0FBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQ3ZGLElBQUksQ0FBQyxZQUFNO0FBQ1gsVUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQzFCLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FDYjtBQUNKLGVBQVEsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUM7QUFDbkMsV0FBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7O0FBRWxFLGNBQU8sRUFBRSxDQUFDO09BQ1Y7TUFDRCxDQUFDLFNBQ0ksQ0FBQyxVQUFBLENBQUMsRUFBSTtBQUNYLFlBQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUNWLENBQUMsQ0FBQztLQUNKLENBQUM7O0FBRUYsUUFBSSxFQUFFLENBQUM7SUFDUCxDQUFDO0dBQUEsQ0FBQzs7QUFFSCxNQUFNLHFCQUFxQixHQUFHLFNBQXhCLHFCQUFxQixDQUFJLEdBQUcsRUFBRSxJQUFJLEVBQUs7QUFDNUMsVUFBTyxDQUFDLEdBQUcsQ0FBQyxrQ0FBa0MsRUFBRSxHQUFHLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDOztBQUVuRSxZQUFTLEdBQUcsR0FBRyxDQUFDLFNBQVMsSUFBSSxpQkFBaUIsQ0FBQyxTQUFTLENBQUM7O0FBRXpELE9BQUksQ0FBQyxJQUFJLEVBQ1IsSUFBSSxHQUFHLEVBQUUsQ0FBQzs7QUFFWCxPQUFNLFNBQVMsR0FBRyxHQUFHLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO0FBQ3pFLFlBQVMsQ0FBQyxNQUFNLENBQUMsWUFBTTtBQUN0QixXQUFPLENBQUMsR0FBRyxDQUFDLG1EQUFtRCxDQUFDLENBQUM7QUFDakUsYUFBUyxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxDQUNuQyxJQUFJLENBQUMsVUFBQSxDQUFDLEVBQUk7QUFDVixZQUFPLENBQUMsR0FBRyxDQUFDLGlDQUFpQyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsYUFBYSxFQUFFLENBQUMsQ0FBQyxDQUFDOztBQUU5RSxTQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFDaEIsYUFBYSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxJQUFJLEFBQUMsRUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksR0FBRyxLQUFLLENBQUMsQ0FDNUcsSUFBSSxDQUFDLFlBQU07QUFDWCxVQUFJLFNBQVMsQ0FBQyxrQkFBa0IsRUFDL0IsU0FBUyxDQUFDLE1BQU0sQ0FBQyxZQUFNO0FBQ3RCLGdCQUFTLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztPQUMvQixDQUFDLENBQUM7TUFDSixDQUFDLENBQUM7S0FDTCxDQUFDLFNBQ0ksQ0FBQyxVQUFBLEdBQUcsRUFBSTtBQUNiLFNBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ2xDLFlBQU8sR0FBRyxJQUFJLENBQUM7QUFDZixZQUFPLENBQUMsS0FBSyxDQUFDLDhDQUE4QyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsWUFBWSxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUNwRyxDQUFDLENBQUM7SUFDSixDQUFDLENBQUM7R0FDSCxDQUFDOztBQUVGLE1BQU0sZUFBZSxHQUFHLFNBQWxCLGVBQWUsQ0FBSSxHQUFHLEVBQUUsSUFBSTtVQUFLLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU0sRUFBSztBQUN2RSxXQUFPLENBQUMsR0FBRyxDQUFDLDZCQUE2QixFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDOUQsYUFBUyxHQUFHLEdBQUcsQ0FBQyxTQUFTLElBQUksaUJBQWlCLENBQUMsU0FBUyxDQUFDOztBQUV6RCxlQUFXLENBQUMsR0FBRyxDQUFDLENBQ2QsSUFBSSxDQUFDLFlBQU07QUFDWCxZQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFLLENBQUMsWUFBTTtBQUMxQyxhQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQzs7QUFFaEQsMkJBQXFCLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDOztBQUVqQyxhQUFPLEVBQUUsQ0FBQztNQUNWLENBQUMsQ0FBQztLQUNILENBQUMsU0FDSSxDQUFDLFVBQUEsQ0FBQyxFQUFJO0FBQ1gsU0FBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM5QixXQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDVixDQUFDLENBQUM7SUFDSixDQUFDO0dBQUEsQ0FBQzs7QUFFSCxNQUFJLENBQUMsZUFBZSxHQUFHLFVBQUMsSUFBSSxFQUFLO0FBQ2hDLE9BQUksT0FBTyxFQUNWLE9BQU87QUFDUixxQkFBa0IsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO0dBQ3BDLENBQUM7O0FBRUYsTUFBSSxDQUFDLFdBQVcsR0FBRyxVQUFDLElBQUksRUFBRSxPQUFPLEVBQUs7QUFDckMsT0FBSSxPQUFPLEVBQ1YsT0FBTzs7QUFFUixVQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQzs7QUFFN0IsVUFBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDOUMscUJBQWtCLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztBQUNwQyxvQkFBaUIsQ0FBQyxZQUFZLENBQUMsZUFBZSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3pELG9CQUFpQixDQUFDLFlBQVksQ0FBQyxPQUFPLGNBQVksT0FBTyxRQUFLLENBQUM7QUFDL0Qsa0JBQWUsR0FBRyxPQUFPLENBQUM7R0FDMUIsQ0FBQzs7QUFFRixNQUFJLENBQUMsV0FBVyxHQUFHLFVBQUMsSUFBSSxFQUFFLE9BQU8sRUFBSztBQUNyQyxPQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxlQUFlLEdBQUcsT0FBTyxDQUFDLENBQUM7R0FDbEQsQ0FBQzs7QUFFRixNQUFJLENBQUMsV0FBVyxHQUFHO1VBQU0sZUFBZTtHQUFBLENBQUM7O0FBRXpDLE1BQUksQ0FBQyxhQUFhLEdBQUcsWUFBTTtBQUMxQixXQUFRLEdBQUcsRUFBRSxDQUFDOztBQUVkLE9BQUksQ0FBQyxXQUFXLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0dBQy9CLENBQUM7O0FBRUYsTUFBSSxDQUFDLFVBQVUsR0FBRyxZQUFNO0FBQ3ZCLFdBQVEsR0FBRyxFQUFFLENBQUM7QUFDZCxrQkFBZSxDQUFDLE9BQU8sQ0FBQyxTQUNqQixDQUFDLFVBQUEsQ0FBQyxFQUFJO0FBQ1gsV0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqQixRQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzlCLENBQUMsQ0FBQztHQUNKLENBQUM7O0FBRUYsTUFBSSxDQUFDLG9CQUFvQixHQUFHLFVBQUMsSUFBSSxFQUFLO0FBQ3JDLE9BQUksQ0FBQyxJQUFJLEVBQ1IsSUFBSSxHQUFHLEVBQUUsQ0FBQzs7QUFFWCxVQUFPLEdBQUcsS0FBSyxDQUFDO0FBQ2hCLE9BQUksZ0JBQWdCLEVBQUU7QUFDckIseUJBQXFCLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDaEQsV0FBTztJQUNQOztBQUVELGtCQUFlLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLENBQ3ZDLElBQUksQ0FBQyxZQUFNO0FBQ1gsb0JBQWdCLEdBQUcsSUFBSSxDQUFDO0lBQ3hCLENBQUMsQ0FBQztHQUNKLENBQUM7O0FBRUYsTUFBSSxDQUFDLG1CQUFtQixHQUFHLFVBQUMsSUFBSSxFQUFLO0FBQ3BDLE9BQUksQ0FBQyxJQUFJLEVBQ1IsSUFBSSxHQUFHLEVBQUUsQ0FBQzs7QUFFWCxVQUFPLEdBQUcsS0FBSyxDQUFDO0FBQ2hCLE9BQUksZUFBZSxFQUFFO0FBQ3BCLHlCQUFxQixDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxDQUFDO0FBQy9DLFdBQU87SUFDUDs7QUFFRCxrQkFBZSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxDQUN0QyxJQUFJLENBQUMsWUFBTTtBQUNYLG1CQUFlLEdBQUcsSUFBSSxDQUFDO0lBQ3ZCLENBQUMsQ0FBQztHQUNKLENBQUM7O0FBRUYsTUFBSSxDQUFDLGlCQUFpQixHQUFHO1VBQU0sU0FBUztHQUFBLENBQUM7O0FBRXpDLE1BQUksQ0FBQyxVQUFVLEdBQUcsWUFBeUI7T0FBeEIsV0FBVyxnQ0FBRyxLQUFLOztBQUNyQyxnQkFBYSxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsV0FBVyxDQUFDLENBQUM7R0FDekMsQ0FBQztFQUNGOztBQUVELE9BQU0sQ0FBQyxNQUFNLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQztBQUM3QixPQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDO0NBQzNCLENBQUEsQ0FBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIigoYXNzZXRzKSA9PiB7XG5cdGNvbnN0IFByb21pc2UgPSByZXF1aXJlKCcuL2hlbHBlcnMvcHJvbWlzZS1wb2x5ZmlsbCcpO1xuXG5cdGNvbnN0XG5cdFx0U1JDX0FQUF9MQVZBQk9PTV9NQUlOX1ZFTkRPUiA9ICcvanMvYXBwTGF2YWJvb20tdmVuZG9yLmpzJyxcblx0XHRTUkNfT1BFTlBHUCA9ICcvdmVuZG9yL29wZW5wZ3AuanMnLFxuXHRcdFNSQ19BUFBfTEFWQUJPT01fTE9HSU4gPSAnL2pzL2FwcExhdmFib29tTG9naW4uanMnLFxuXHRcdFNSQ19BUFBfTEFWQUJPT01fTUFJTiA9ICcvanMvYXBwTGF2YWJvb20uanMnLFxuXHRcdFNSQ19VVElMUyA9ICcvanMvdXRpbHMuanMnLFxuXHRcdFNSQ19VVElMU19WRU5ET1IgPSAnL2pzL3V0aWxzLXZlbmRvci5qcycsXG5cdFx0U1JDX1RFTVBMQVRFX0NBQ0hFID0gJy9qcy90ZW1wbGF0ZXMuanMnO1xuXG5cdGNvbnN0XG5cdFx0TEJfRE9ORSA9ICdEb25lIScsXG5cdFx0TEJfRkFJTCA9ICdDYW5ub3QgbG9hZCBMYXZhYm9vbSA6KCBcXG4gUGxlYXNlIGNoZWNrIG5ldHdvcmsgY29ubmVjdGlvbiBhbmQgdHJ5IGFnYWluISc7XG5cblx0Y29uc3QgLy8gY29udGFpbmVyc1xuXHRcdGxvYWRlckNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkZXItY29udGFpbmVyJyksXG5cdFx0Y2hlY2tlckFwcENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGVja2VyLWFwcC1jb250YWluZXInKSxcblx0XHRsb2dpbkFwcENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbi1hcHAtY29udGFpbmVyJyksXG5cdFx0bWFpbkFwcENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluLWFwcC1jb250YWluZXInKSxcblx0XHRjb250YWluZXJzID0gW2xvYWRlckNvbnRhaW5lciwgbG9naW5BcHBDb250YWluZXIsIG1haW5BcHBDb250YWluZXJdO1xuXG5cdGNvbnN0XG5cdFx0Q0hFQ0tFUiA9IHtcblx0XHRcdGFwcE5hbWU6ICd1dGlscycsXG5cdFx0XHRjb250YWluZXI6IGNoZWNrZXJBcHBDb250YWluZXIsXG5cdFx0XHRhZnRlclByb2dyZXNzVGV4dDogJ0NoZWNraW5nLi4uJyxcblx0XHRcdGFmdGVyUHJvZ3Jlc3NWYWx1ZTogMzAsXG5cdFx0XHRpc0hpZGRlbjogdHJ1ZSxcblx0XHRcdHNjcmlwdHM6IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNyYzogU1JDX1VUSUxTX1ZFTkRPUixcblx0XHRcdFx0XHRwcm9ncmVzc1RleHQ6ICdMb2FkaW5nIExhdmFib29tIHV0aWxzKDEpLi4uJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c3JjOiBTUkNfVVRJTFMsXG5cdFx0XHRcdFx0cHJvZ3Jlc3NUZXh0OiAnTG9hZGluZyBMYXZhYm9vbSB1dGlscygyKS4uLidcblx0XHRcdFx0fVxuXHRcdFx0XVxuXHRcdH0sXG5cdFx0TE9BREVSID0ge1xuXHRcdFx0Y29udGFpbmVyOiBsb2FkZXJDb250YWluZXJcblx0XHR9LFxuXHRcdEFQUF9MQVZBQk9PTV9MT0dJTiA9IHtcblx0XHRcdGFwcE5hbWU6ICdBcHBMYXZhYm9vbUxvZ2luJyxcblx0XHRcdGNvbnRhaW5lcjogbG9naW5BcHBDb250YWluZXIsXG5cdFx0XHRhZnRlclByb2dyZXNzVGV4dDogJ1BsZWFzZSB3YWl0Li4uJyxcblx0XHRcdGFmdGVyUHJvZ3Jlc3NWYWx1ZTogOTAsXG5cdFx0XHRzY3JpcHRzOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzcmM6IFNSQ19PUEVOUEdQLFxuXHRcdFx0XHRcdHByb2dyZXNzVGV4dDogJ0xvYWRpbmcgb3BlbnBncC5qcy4uLidcblx0XHRcdFx0fSxcblx0XHRcdFx0cHJvY2Vzcy5lbnYuSVNfUFJPRFVDVElPTiA/IHtcblx0XHRcdFx0XHRzcmM6IFNSQ19URU1QTEFURV9DQUNIRSxcblx0XHRcdFx0XHRwcm9ncmVzc1RleHQ6ICdMb2FkaW5nIHRlbXBsYXRlcy4uLidcblx0XHRcdFx0fSA6IG51bGwsXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzcmM6IFNSQ19BUFBfTEFWQUJPT01fTE9HSU4sXG5cdFx0XHRcdFx0cHJvZ3Jlc3NUZXh0OiAnTG9hZGluZyBMYXZhYm9vbS4uLidcblx0XHRcdFx0fVxuXHRcdFx0XVxuXHRcdH0sXG5cdFx0QVBQX0xBVkFCT09NX01BSU4gPSB7XG5cdFx0XHRhcHBOYW1lOiAnQXBwTGF2YWJvb20nLFxuXHRcdFx0Y29udGFpbmVyOiBtYWluQXBwQ29udGFpbmVyLFxuXHRcdFx0YWZ0ZXJQcm9ncmVzc1RleHQ6ICdQbGVhc2Ugd2FpdC4uLicsXG5cdFx0XHRhZnRlclByb2dyZXNzVmFsdWU6IDUwLFxuXHRcdFx0c2NyaXB0czogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c3JjOiBTUkNfQVBQX0xBVkFCT09NX01BSU5fVkVORE9SLFxuXHRcdFx0XHRcdHByb2dyZXNzVGV4dDogJ0xvYWRpbmcgc3lzdGVtIGxpYnJhcmllcy4uLidcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNyYzogU1JDX09QRU5QR1AsXG5cdFx0XHRcdFx0cHJvZ3Jlc3NUZXh0OiAnTG9hZGluZyBvcGVucGdwLmpzLi4uJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRwcm9jZXNzLmVudi5JU19QUk9EVUNUSU9OID8ge1xuXHRcdFx0XHRcdHNyYzogU1JDX1RFTVBMQVRFX0NBQ0hFLFxuXHRcdFx0XHRcdHByb2dyZXNzVGV4dDogJ0xvYWRpbmcgdGVtcGxhdGVzLi4uJ1xuXHRcdFx0XHR9IDogbnVsbCxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNyYzogU1JDX0FQUF9MQVZBQk9PTV9NQUlOLFxuXHRcdFx0XHRcdHByb2dyZXNzVGV4dDogJ0xvYWRpbmcgTGF2YWJvb20uLi4nXG5cdFx0XHRcdH1cblx0XHRcdF1cblx0XHR9O1xuXG5cdGNvbnN0XG5cdFx0REVCVUdfREVMQVkgPSAwLFxuXHRcdEFQUF9UUkFOU0lUSU9OX0RFTEFZID0gNTAwO1xuXG5cdGNvbnN0IGxvYWRlZFNjcmlwdHMgPSB7fTtcblxuXHRjb25zdCBsb2FkSlMgPSAoc3JjKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0aWYgKGxvYWRlZFNjcmlwdHNbc3JjXSlcblx0XHRcdHJldHVybiByZXNvbHZlKCk7XG5cblx0XHRjb25zdCByZWYgPSB3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWyAwIF07XG5cdFx0Y29uc3Qgc2NyaXB0ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXHRcdHNjcmlwdC5zcmMgPSBzcmM7XG5cdFx0c2NyaXB0LmFzeW5jID0gdHJ1ZTtcblx0XHRzY3JpcHQub25sb2FkID0gKGUpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKGBsb2FkZXIgbG9hZGVkICcke3NyY30nYCwgZSk7XG5cdFx0XHRsb2FkZWRTY3JpcHRzW3NyY10gPSB0cnVlO1xuXG5cdFx0XHRpZiAoREVCVUdfREVMQVkpXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdHJlc29sdmUoZSk7XG5cdFx0XHRcdH0sIERFQlVHX0RFTEFZKTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmVzb2x2ZShlKTtcblx0XHR9O1xuXHRcdHNjcmlwdC5vbmVycm9yID0gKGUpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKGBsb2FkZXI6IGVycm9yIGR1cmluZyBsb2FkaW5nICcke3NyY30nYCwgZSk7XG5cdFx0XHRyZWplY3QoKTtcblx0XHR9O1xuXG5cdFx0cmVmLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNjcmlwdCwgcmVmKTtcblx0fSk7XG5cblx0ZnVuY3Rpb24gTG9hZGVyICgpIHtcblx0XHRjb25zb2xlLmxvZygnSW5pdGlhbGl6ZSBsb2FkZXIuLi4nKTtcblxuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXG5cdFx0Y29uc3Rcblx0XHQvLyBsb2FkZXIgZWxlbWVudHNcblx0XHRcdGxvYWRlclByb2dyZXNzVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkZXItcHJvZ3Jlc3MtdGV4dCcpLFxuXHRcdFx0bG9hZGVyUHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGVyLXByb2dyZXNzLWJhcicpO1xuXG5cdFx0bGV0XG5cdFx0Ly8gc3RhdGVcblx0XHRcdGlzRXJyb3IgPSBmYWxzZSxcblx0XHRcdGlzTG9naW5BcHBMb2FkZWQgPSBmYWxzZSxcblx0XHRcdGlzTWFpbkFwcExvYWRlZCA9IGZhbHNlLFxuXHRcdFx0aXNNYWluQXBwID0gZmFsc2UsXG5cdFx0XHRjdXJyZW50UHJvZ3Jlc3MgPSAwLFxuXHRcdFx0cHJvZ3Jlc3MgPSAwO1xuXG5cdFx0Y29uc3Qgc2hvd0NvbnRhaW5lciA9IChlLCBsYkRvbmUsIGlzSW1tZWRpYXRlID0gZmFsc2UpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG5cdFx0XHRpZiAoZS5jb250YWluZXIgIT0gTE9BREVSLmNvbnRhaW5lcilcblx0XHRcdFx0c2VsZi5zZXRQcm9ncmVzcyhsYkRvbmUgPyBsYkRvbmUgOiBMQl9ET05FLCAxMDApO1xuXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0Zm9yIChsZXQgYyBvZiBjb250YWluZXJzKVxuXHRcdFx0XHRcdGMuY2xhc3NOYW1lID0gJ2hpZGRlbic7XG5cdFx0XHRcdGUuY29udGFpbmVyLmNsYXNzTmFtZSA9ICcnO1xuXG5cdFx0XHRcdGlmIChlLnJvb3RTY29wZSAmJiBlLnJvb3RTY29wZS5zaG93bkFwcGxpY2F0aW9uKSB7XG5cdFx0XHRcdFx0ZS5yb290U2NvcGUuJGFwcGx5KCgpID0+IHtcblx0XHRcdFx0XHRcdGUucm9vdFNjb3BlLnNob3duQXBwbGljYXRpb24oKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRyZXNvbHZlKCk7XG5cdFx0XHRcdH0gZWxzZVxuXHRcdFx0XHRcdHJlc29sdmUoKTtcblx0XHRcdH0sIGlzSW1tZWRpYXRlID8gMCA6IEFQUF9UUkFOU0lUSU9OX0RFTEFZKTtcblxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgbG9hZFNjcmlwdHMgPSAob3B0cykgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0Y29uc3QgdG90YWwgPSBvcHRzLnNjcmlwdHMubGVuZ3RoO1xuXG5cdFx0XHRjb25zdCBsb2FkID0gKGxvYWRlZCA9IDApID0+IHtcblx0XHRcdFx0bGV0IHNjcmlwdCA9IG51bGw7XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRzY3JpcHQgPSBvcHRzLnNjcmlwdHMuc3BsaWNlKDAsIDEpWzBdO1xuXHRcdFx0XHR9IHdoaWxlICghc2NyaXB0KTtcblxuXHRcdFx0XHRzZWxmLnNldFByb2dyZXNzKHNjcmlwdC5wcm9ncmVzc1RleHQsIE1hdGguY2VpbChwcm9ncmVzcyArIChvcHRzLmFmdGVyUHJvZ3Jlc3NWYWx1ZSAtIHByb2dyZXNzKSAqIGxvYWRlZCAvIHRvdGFsKSk7XG5cblx0XHRcdFx0bG9hZEpTKHByb2Nlc3MuZW52LklTX1BST0RVQ1RJT04gJiYgYXNzZXRzW3NjcmlwdC5zcmNdID8gYXNzZXRzW3NjcmlwdC5zcmNdIDogc2NyaXB0LnNyYylcblx0XHRcdFx0XHQudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAob3B0cy5zY3JpcHRzLmxlbmd0aCA+IDApXG5cdFx0XHRcdFx0XHRcdGxvYWQobG9hZGVkICsgMSk7XG5cdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0cHJvZ3Jlc3MgPSBvcHRzLmFmdGVyUHJvZ3Jlc3NWYWx1ZTtcblx0XHRcdFx0XHRcdFx0c2VsZi5zZXRQcm9ncmVzcyhvcHRzLmFmdGVyUHJvZ3Jlc3NUZXh0LCBvcHRzLmFmdGVyUHJvZ3Jlc3NWYWx1ZSk7XG5cblx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0LmNhdGNoKGUgPT4ge1xuXHRcdFx0XHRcdFx0cmVqZWN0KGUpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fTtcblxuXHRcdFx0bG9hZCgpO1xuXHRcdH0pO1xuXG5cdFx0Y29uc3QgaW5pdGlhbGl6ZUFwcGxpY2F0aW9uID0gKGFwcCwgb3B0cykgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJ2xvYWRlcjogaW5pdGlhbGl6aW5nIGFwcGxpY2F0aW9uJywgYXBwLmFwcE5hbWUsIG9wdHMpO1xuXG5cdFx0XHRpc01haW5BcHAgPSBhcHAuY29udGFpbmVyID09IEFQUF9MQVZBQk9PTV9NQUlOLmNvbnRhaW5lcjtcblxuXHRcdFx0aWYgKCFvcHRzKVxuXHRcdFx0XHRvcHRzID0ge307XG5cblx0XHRcdGNvbnN0IHJvb3RTY29wZSA9IGFwcC5yb290U2NvcGUgPSBhbmd1bGFyLmVsZW1lbnQoYXBwLmNvbnRhaW5lcikuc2NvcGUoKTtcblx0XHRcdHJvb3RTY29wZS4kYXBwbHkoKCkgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnbG9hZGVyOiBjYWxsaW5nIHJvb3RTY29wZS5pbml0aWFsaXplQXBwbGljYXRpb24oKScpO1xuXHRcdFx0XHRyb290U2NvcGUuaW5pdGlhbGl6ZUFwcGxpY2F0aW9uKG9wdHMpXG5cdFx0XHRcdFx0LnRoZW4ociA9PiB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnbG9hZGVyOiBpbml0aWFsaXplZCBhcHBsaWNhdGlvbicsIGFwcC5hcHBOYW1lLCAnd2l0aCByZXN1bHQnLCByKTtcblxuXHRcdFx0XHRcdFx0aWYgKCFhcHAuaXNIaWRkZW4pXG5cdFx0XHRcdFx0XHRcdHNob3dDb250YWluZXIoYXBwLCBvcHRzLmxiRG9uZSA/IG9wdHMubGJEb25lIDogKHIgJiYgci5sYkRvbmUgPyByLmxiRG9uZSA6IG51bGwpLCBvcHRzLm5vRGVsYXkgPyB0cnVlIDogZmFsc2UpXG5cdFx0XHRcdFx0XHRcdFx0LnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHJvb3RTY29wZS5vbkFwcGxpY2F0aW9uUmVhZHkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJvb3RTY29wZS4kYXBwbHkoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJvb3RTY29wZS5vbkFwcGxpY2F0aW9uUmVhZHkoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQuY2F0Y2goZXJyID0+IHtcblx0XHRcdFx0XHRcdHNlbGYuc2V0UHJvZ3Jlc3NUZXh0KGVyci5tZXNzYWdlKTtcblx0XHRcdFx0XHRcdGlzRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcignbG9hZGVyOiBpbml0aWFsaXphdGlvbiBvZiBhcHBsaWNhdGlvbiBmYWlsZWQnLCBhcHAuYXBwTmFtZSwgJ3dpdGggZXJyb3InLCBlcnIuZXJyb3IpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdGNvbnN0IGxvYWRBcHBsaWNhdGlvbiA9IChhcHAsIG9wdHMpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKCdsb2FkZXI6IGxvYWRpbmcgYXBwbGljYXRpb24nLCBhcHAuYXBwTmFtZSwgb3B0cyk7XG5cdFx0XHRpc01haW5BcHAgPSBhcHAuY29udGFpbmVyID09IEFQUF9MQVZBQk9PTV9NQUlOLmNvbnRhaW5lcjtcblxuXHRcdFx0bG9hZFNjcmlwdHMoYXBwKVxuXHRcdFx0XHQudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50KGFwcC5jb250YWluZXIpLnJlYWR5KCgpID0+IHtcblx0XHRcdFx0XHRcdGFuZ3VsYXIuYm9vdHN0cmFwKGFwcC5jb250YWluZXIsIFthcHAuYXBwTmFtZV0pO1xuXG5cdFx0XHRcdFx0XHRpbml0aWFsaXplQXBwbGljYXRpb24oYXBwLCBvcHRzKTtcblxuXHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuY2F0Y2goZSA9PiB7XG5cdFx0XHRcdFx0c2VsZi5zZXRQcm9ncmVzc1RleHQoTEJfRkFJTCk7XG5cdFx0XHRcdFx0cmVqZWN0KGUpO1xuXHRcdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdHRoaXMuc2V0UHJvZ3Jlc3NUZXh0ID0gKHRleHQpID0+IHtcblx0XHRcdGlmIChpc0Vycm9yKVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHRsb2FkZXJQcm9ncmVzc1RleHQuaW5uZXJIVE1MID0gdGV4dDtcblx0XHR9O1xuXG5cdFx0dGhpcy5zZXRQcm9ncmVzcyA9ICh0ZXh0LCBwZXJjZW50KSA9PiB7XG5cdFx0XHRpZiAoaXNFcnJvcilcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHRwZXJjZW50ID0gTWF0aC5jZWlsKHBlcmNlbnQpO1xuXG5cdFx0XHRjb25zb2xlLmxvZygnbG9hZGVyLnByb2dyZXNzJywgcGVyY2VudCwgdGV4dCk7XG5cdFx0XHRsb2FkZXJQcm9ncmVzc1RleHQuaW5uZXJIVE1MID0gdGV4dDtcblx0XHRcdGxvYWRlclByb2dyZXNzQmFyLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIHBlcmNlbnQpO1xuXHRcdFx0bG9hZGVyUHJvZ3Jlc3NCYXIuc2V0QXR0cmlidXRlKCdzdHlsZScsIGB3aWR0aDogJHtwZXJjZW50fSU7YCk7XG5cdFx0XHRjdXJyZW50UHJvZ3Jlc3MgPSBwZXJjZW50O1xuXHRcdH07XG5cblx0XHR0aGlzLmluY1Byb2dyZXNzID0gKHRleHQsIHBlcmNlbnQpID0+IHtcblx0XHRcdHNlbGYuc2V0UHJvZ3Jlc3ModGV4dCwgY3VycmVudFByb2dyZXNzICsgcGVyY2VudCk7XG5cdFx0fTtcblxuXHRcdHRoaXMuZ2V0UHJvZ3Jlc3MgPSAoKSA9PiBjdXJyZW50UHJvZ3Jlc3M7XG5cblx0XHR0aGlzLnJlc2V0UHJvZ3Jlc3MgPSAoKSA9PiB7XG5cdFx0XHRwcm9ncmVzcyA9IDEwO1xuXG5cdFx0XHRzZWxmLnNldFByb2dyZXNzKCcnLCBwcm9ncmVzcyk7XG5cdFx0fTtcblxuXHRcdHRoaXMuaW5pdGlhbGl6ZSA9ICgpID0+IHtcblx0XHRcdHByb2dyZXNzID0gMTA7XG5cdFx0XHRsb2FkQXBwbGljYXRpb24oQ0hFQ0tFUilcblx0XHRcdFx0LmNhdGNoKGUgPT4ge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZSk7XG5cdFx0XHRcdFx0c2VsZi5zZXRQcm9ncmVzc1RleHQoTEJfRkFJTCk7XG5cdFx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHR0aGlzLmxvYWRMb2dpbkFwcGxpY2F0aW9uID0gKG9wdHMpID0+IHtcblx0XHRcdGlmICghb3B0cylcblx0XHRcdFx0b3B0cyA9IHt9O1xuXG5cdFx0XHRpc0Vycm9yID0gZmFsc2U7XG5cdFx0XHRpZiAoaXNMb2dpbkFwcExvYWRlZCkge1xuXHRcdFx0XHRpbml0aWFsaXplQXBwbGljYXRpb24oQVBQX0xBVkFCT09NX0xPR0lOLCBvcHRzKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRsb2FkQXBwbGljYXRpb24oQVBQX0xBVkFCT09NX0xPR0lOLCBvcHRzKVxuXHRcdFx0XHQudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0aXNMb2dpbkFwcExvYWRlZCA9IHRydWU7XG5cdFx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHR0aGlzLmxvYWRNYWluQXBwbGljYXRpb24gPSAob3B0cykgPT4ge1xuXHRcdFx0aWYgKCFvcHRzKVxuXHRcdFx0XHRvcHRzID0ge307XG5cblx0XHRcdGlzRXJyb3IgPSBmYWxzZTtcblx0XHRcdGlmIChpc01haW5BcHBMb2FkZWQpIHtcblx0XHRcdFx0aW5pdGlhbGl6ZUFwcGxpY2F0aW9uKEFQUF9MQVZBQk9PTV9NQUlOLCBvcHRzKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRsb2FkQXBwbGljYXRpb24oQVBQX0xBVkFCT09NX01BSU4sIG9wdHMpXG5cdFx0XHRcdC50aGVuKCgpID0+IHtcblx0XHRcdFx0XHRpc01haW5BcHBMb2FkZWQgPSB0cnVlO1xuXHRcdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0dGhpcy5pc01haW5BcHBsaWNhdGlvbiA9ICgpID0+IGlzTWFpbkFwcDtcblxuXHRcdHRoaXMuc2hvd0xvYWRlciA9IChpc0ltbWVkaWF0ZSA9IGZhbHNlKSA9PiB7XG5cdFx0XHRzaG93Q29udGFpbmVyKExPQURFUiwgbnVsbCwgaXNJbW1lZGlhdGUpO1xuXHRcdH07XG5cdH1cblxuXHR3aW5kb3cubG9hZGVyID0gbmV3IExvYWRlcigpO1xuXHR3aW5kb3cubG9hZGVyLmluaXRpYWxpemUoKTtcbn0pKHdpbmRvdy5hc3NldHMpOyJdfQ==","deps":{"./helpers/promise-polyfill":"/Users/piggyslasher/Sites/lavaboom-web/src/js/helpers/promise-polyfill.js","_process":"/Users/piggyslasher/Sites/lavaboom-web/node_modules/browserify/node_modules/process/browser.js"}}},"packageCache":{"/src/js/package.json":false,"/src/package.json":false,"./src/js/loader.js":false,"/Users/piggyslasher/Sites/lavaboom-web/node_modules/browserify/node_modules/process/package.json":{"author":{"name":"Roman Shtylman","email":"shtylman@gmail.com"},"name":"process","description":"process information for node.js and browsers","keywords":["process"],"version":"0.10.1","repository":{"type":"git","url":"git://github.com/shtylman/node-process.git"},"browser":"./browser.js","main":"./index.js","engines":{"node":">= 0.6.0"},"gitHead":"b723f82028b12e94abfe732e9f432a3fb2b5cece","bugs":{"url":"https://github.com/shtylman/node-process/issues"},"homepage":"https://github.com/shtylman/node-process","_id":"process@0.10.1","scripts":{},"_shasum":"842457cc51cfed72dc775afeeafb8c6034372725","_from":"process@>=0.10.0 <0.11.0","_npmVersion":"2.6.1","_nodeVersion":"0.10.35","_npmUser":{"name":"shtylman","email":"shtylman@gmail.com"},"maintainers":[{"name":"coolaj86","email":"coolaj86@gmail.com"},{"name":"shtylman","email":"shtylman@gmail.com"}],"dist":{"shasum":"842457cc51cfed72dc775afeeafb8c6034372725","tarball":"http://registry.npmjs.org/process/-/process-0.10.1.tgz"},"directories":{},"_resolved":"https://registry.npmjs.org/process/-/process-0.10.1.tgz","readme":"ERROR: No README data found!","__dirname":"/Users/piggyslasher/Sites/lavaboom-web/node_modules/browserify/node_modules/process"},"/Users/piggyslasher/Sites/lavaboom-web/node_modules/browserify/node_modules/process/browser.js":{"author":{"name":"Roman Shtylman","email":"shtylman@gmail.com"},"name":"process","description":"process information for node.js and browsers","keywords":["process"],"version":"0.10.1","repository":{"type":"git","url":"git://github.com/shtylman/node-process.git"},"browser":"./browser.js","main":"./index.js","engines":{"node":">= 0.6.0"},"gitHead":"b723f82028b12e94abfe732e9f432a3fb2b5cece","bugs":{"url":"https://github.com/shtylman/node-process/issues"},"homepage":"https://github.com/shtylman/node-process","_id":"process@0.10.1","scripts":{},"_shasum":"842457cc51cfed72dc775afeeafb8c6034372725","_from":"process@>=0.10.0 <0.11.0","_npmVersion":"2.6.1","_nodeVersion":"0.10.35","_npmUser":{"name":"shtylman","email":"shtylman@gmail.com"},"maintainers":[{"name":"coolaj86","email":"coolaj86@gmail.com"},{"name":"shtylman","email":"shtylman@gmail.com"}],"dist":{"shasum":"842457cc51cfed72dc775afeeafb8c6034372725","tarball":"http://registry.npmjs.org/process/-/process-0.10.1.tgz"},"directories":{},"_resolved":"https://registry.npmjs.org/process/-/process-0.10.1.tgz","readme":"ERROR: No README data found!","__dirname":"/Users/piggyslasher/Sites/lavaboom-web/node_modules/browserify/node_modules/process"}}}